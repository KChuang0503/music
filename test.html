<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>scroll to top</title>
    <link rel="stylesheet" href="./css/reset.css">
    <!-- css -->
    <link rel="stylesheet" href="./css/all-setup.css">
    <!-- nav css -->
    <link rel="stylesheet" href="./css/nav.css">
    <!-- font-awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"     integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        #container {
            width: 500px;
            height: auto;
            margin: 0 auto;
            text-align: center;
            background: pink;
        }

        .part1,
        .part2 {
            display: flex;
            margin-bottom: 50px;
        }

        img {
            width: 250px;
            height: 150px;
            object-fit: cover;
            margin: 0 5px;
            opacity: 0;
            transition: all 0.5s;
        }

        .image-left {
            transform: translatex(-30%);
        }

        .image-right {
            transform: translatex(30%);
        }

        .active {
            opacity: 1;
            transform: translatex(0%);
        }
    </style>
</head>

<body>
    <div id="container">
        <h1><i class="fa-brands fa-spotify"></i></h1>
        <div class="a">
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestiae quis non illum. Architecto nisi similique
            reprehenderit, quis repellendus quisquam ipsum maiores corrupti, veritatis vel libero dolores maxime
            praesentium autem recusandae.
        </div>
        <div class="a">
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Nemo aspernatur incidunt quisquam dolorum itaque
            hic dolorem enim aliquid saepe tempore? Adipisci sed corporis molestiae modi praesentium aliquid maiores
            earum eum.
        </div>
        <div class="part1">
            <div class="article">
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Quidem unde libero aspernatur non, minus quasi
                rem voluptatem similique obcaecati sit iusto tempore rerum commodi, tempora fugiat veniam. Provident,
                dolor enim!
            </div>
            <div class="img"><img src="https://photo.pufii.com.tw/K/1019-C.jpg" alt="" class="image-right"></div>
        </div>
        <div class="part2">
            <div class="img"><img src="https://photo.pufii.com.tw/K/1022-SALE.jpg" alt="" class="image-left"></div>
            <div class="article">
                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Consequuntur soluta inventore sapiente, nam
                cumque esse veritatis ducimus itaque quae, laboriosam magnam corporis. Quasi reiciendis odit adipisci
                quas? Facere, assumenda saepe.
            </div>
        </div>
        <div class="part1">
            <div class="article">
                Lorem ipsum dolor sit amet consectetur, adipisicing elit. Necessitatibus iusto architecto asperiores
                magnam impedit dolore pariatur ratione dignissimos adipisci eos laborum voluptate, veritatis esse
                molestiae! Dicta aliquid repudiandae quas dolor.
            </div>
            <div class="img">
                <a href="">
                    <img src="https://photo.pufii.com.tw/K/1019-C.jpg" alt="" class="image-right">
                    <p>123</p>
                </a>
            </div>
        </div>


        <script src="./js/jquery-3.6.0.min.js"></script>
        <script>
            const images = $("img");
            function handleScroll() {
                $.each(images, function (index, image) {
                    const imageMiddleOffset = image.offsetTop + image.height / 2;
                    const scrollAt = window.scrollY + window.innerHeight;
                    if (scrollAt > imageMiddleOffset) {
                        $(this).attr({ class: "active" });
                    }
                });
            }
            //改善效能
            function debounce(func, delay = 250) {
                let timer = null
                return () => {
                    let context = this
                    let args = arguments
                    clearTimeout(timer)
                    timer = setTimeout(() => {
                        func.apply(context, args)
                    }, delay)
                }
            }

            $(window).scroll(debounce(handleScroll));



        </script>
</body>

</html>